<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T8DHWKCNVS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-T8DHWKCNVS');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Litcode by thirdeye</title>
    <link rel="icon" href="flavicon_thirdeye.png" type="image/png">
    
    <!-- Load Monokai Sublime theme for syntax highlighting -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/monokai-sublime.min.css">
    
    <!-- Load highlight.js library -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBExTFUv9pwWxnIEGAFJtr00eu6gTT2wx0",
            authDomain: "litcode-8c111.firebaseapp.com",
            projectId: "litcode-8c111",
            storageBucket: "litcode-8c111.appspot.com",
            messagingSenderId: "463100690894",
            appId: "1:463100690894:web:5703dd4cadb0d92b4e2b9f",
            measurementId: "G-EM8B9CQH5X"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Login Functionality
        function loginUser() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    alert("Logged in successfully: " + user.email);
                    document.getElementById("login-popup").style.display = "none";
                })
                .catch((error) => {
                    const errorMessage = error.message;
                    alert("Error: " + errorMessage);
                });
        }

        // Signup Functionality
        function signUpUser() {
            const email = document.getElementById("signup-email").value;
            const password = document.getElementById("signup-password").value;
            const confirmPassword = document.getElementById("confirm-password").value;
        
            // Validate if password and confirm password are the same
            if (password !== confirmPassword) {
                alert("Passwords do not match!");
                return;
            }
        
            // Proceed with Firebase sign-up
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    alert("Signed up successfully: " + userCredential.user.email);
                    document.getElementById("signup-popup").style.display = "none";
                })
                .catch((error) => {
                    alert("Error: " + error.message);
                });
        }
        
        // Reset Password Functionality
        function resetPassword() {
            const email = document.getElementById("email").value;
        
            if (!email) {
                alert("Please enter your email to reset the password.");
                return;
            }
        
            sendPasswordResetEmail(auth, email)
                .then(() => {
                    alert("Password reset email sent.");
                })
                .catch((error) => {
                    alert("Error: " + error.message);
                });
        }

    </script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            background-color: #ffffff;
            color: #000000;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            overflow-y: scroll;
        }

        /* Other existing styles */

        /* Popup Style */
        #signup-popup, #login-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #007bff; /* Blue background */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
            width: 350px;
            max-width: 90%;
        }
        
        /* Input Fields inside Popups */
        .popup input {
            width: calc(100% - 20px); /* Padding inside the input fields */
            padding: 10px;
            margin: 10px 0;
            border: 1px solid white;
            border-radius: 5px;
            background-color: #333; /* Dark background for input fields */
            color: white;
        }
        .popup a {
            color: #ffffff;
            text-decoration: underline;
            cursor: pointer;
        }
        
        /* Buttons inside Popups */
        .popup .button-container button {
            width: 48%; /* Buttons side by side */
            padding: 10px;
            border-radius: 5px;
            background-color: #000000; /* Black background for buttons */
            color: white;
            border: none;
            cursor: pointer;
        }
        
        .popup .button-container button:hover {
            background-color: #333; /* Darker hover effect */
        }
        
        /* Sign-up/Login Links in the Popups */
        #signup-link, #login-link {
            margin-top: 10px;
            text-align: center;
            color: white;
            cursor: pointer;
            font-size: 12px;
        }
        
        /* Flex container for buttons to sit side by side */
        #signup-popup .button-container, #login-popup .button-container {
            display: flex;
            justify-content: space-between; /* Even space between the buttons */
        }

        /* Stylized Sign Up Button */
        #signup-top-button {
            position: absolute;
            top: 10px;
            right: 120px; /* Adjusted to not overlap with the Login button */
            background-color: #007bff; /* Blue color */
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            z-index: 3;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        #signup-top-button:hover {
            background-color: #0056b3;
        }
        
        /* Stylized Login Button */
        #login-top-button {
            position: absolute;
            top: 10px;
            right: 10px; /* Right-aligned */
            background-color: #000; /* Black color */
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            z-index: 3;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        #login-top-button:hover {
            background-color: #333;
        }

    </style>
</head>
<body>
    <img id="litcode-logo" src="litcode_logo_slimthick.svg" alt="Litcode Logo">
    <div id="tab-container">
        <!-- Tabs and Chat content -->

    </div>

    <div id="chat-container">
        <!-- Chat container content -->

    </div>

    <div class="footer-links">
        <!-- Footer links -->

    </div>

    <script>
        // Your existing chat and tab switching JavaScript code
    </script>

    <!-- Login/Signup Buttons -->
    <button id="signup-top-button" onclick="document.getElementById('signup-popup').style.display='block';">Sign Up</button>
    <button id="login-top-button" onclick="document.getElementById('login-popup').style.display='block';">Login</button>

    <!-- Signup Popup -->
    <div id="signup-popup" class="popup">
        <h3 style="color: white;">Sign Up</h3>
        <input type="email" id="signup-email" placeholder="Email">
        <input type="password" id="signup-password" placeholder="Password">
        <input type="password" id="confirm-password" placeholder="Confirm Password">
        
        <div class="button-container">
            <button onclick="signUpUser()">Sign Up</button>
            <button onclick="document.getElementById('login-popup').style.display='block'; document.getElementById('signup-popup').style.display='none';">Login</button>
        </div>

        <p id="login-link" onclick="document.getElementById('login-popup').style.display='block'; document.getElementById('signup-popup').style.display='none';">
            Already have an account? Log in
        </p>
    </div>

    <!-- Login Popup -->
    <div id="login-popup" class="popup">
        <h3 style="color: white;">Login</h3>
        <input type="email" id="email" placeholder="Email">
        <input type="password" id="password" placeholder="Password">

        <div class="button-container">
            <button onclick="loginUser()">Login</button>
            <button onclick="document.getElementById('signup-popup').style.display='block'; document.getElementById('login-popup').style.display='none';">Sign Up</button>
        </div>

        <!-- New Forgot Password link -->
        <p style="color: white; text-align: center;">
            <a href="javascript:void(0)" style="color: #ffffff; text-decoration: underline;" onclick="resetPassword()">Forgot your password?</a>
        </p>

        <p id="signup-link" onclick="document.getElementById('signup-popup').style.display='block'; document.getElementById('login-popup').style.display='none';">
            Don't have an account? Sign up
        </p>
    </div>

</body>
</html>
